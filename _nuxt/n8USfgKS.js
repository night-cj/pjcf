import{_ as x}from"./C6OWrCkm.js";import{_ as h,a as v,b as N}from"./oor-_-wk.js";import{_ as P}from"./BnhYSdpf.js";import{d as V,a6 as y,a7 as U,r as k,P as E,o as O,c as C,a as s,b as d,w as c,u as i,a1 as T}from"./B3PM-gVu.js";import{u as B}from"./C8cHQc0O.js";import{_ as R}from"./DlAUqK2U.js";import"./CmHt59i4.js";import"./DIyyiQo-.js";import"./z4KQ9JW1.js";import"./KJ21OrSK.js";import"./BZ63tDAu.js";import"./pnMdQtYV.js";const $={onRequestError({request:e,options:t,error:n}){throw console.error(e,t),new Error(n.message||"请求错误")},onResponse({request:e,response:t,options:n}){},onResponseError({request:e,response:t,options:n,error:r}){throw r?(console.error(e,t),new Error(r.message||"响应错误")):(console.error(e,t),new Error("响应错误"))}},q=$||{};function z(e){return $fetch("/dbm/login",{...q,method:"POST",body:{...e,languageCode:"CN"}})}const I={class:"login"},F=V({__name:"login",setup(e){y({title:"登录"});const{updateToken:t}=U(),n=B(),r=k(!1),a=E({loginName:"17602188861",userPassword:"123456"}),f=u=>{const o=[];return u.loginName||o.push({path:"loginName",message:""}),u.userPassword||o.push({path:"userPassword",message:""}),o},g=async u=>{r.value=!0;const{success:o,data:l,retMsg:m}=await z(a).finally(()=>{r.value=!1});if(!o||!(l!=null&&l.token)){m&&n.add({id:"login_result",icon:"i-heroicons-exclamation-circle-16-solid",color:"warning",title:"登录失败",description:m,ui:{wrapper:"tr"}});return}n.clear(),t(l.token),T("/admin/about/honor",{replace:!0})};return(u,o)=>{const l=x,m=v,_=N,w=P,b=h;return O(),C("div",I,[s(l,{class:"h-16"}),o[3]||(o[3]=d("h1",{class:"mb-5 mt-10 text-2xl font-semibold text-normal-900"}," 官方网站后台 ",-1)),s(b,{class:"mb-16 flex h-[20.3rem] w-[25rem] flex-col justify-between bg-gradient-to-b from-white from-85% to-[#e3edf4] p-12 shadow-[0_0.25rem_0.5rem_0.25rem_rgba(26,41,58,0.1)]",validate:f,state:i(a),onSubmit:g},{default:c(()=>[o[2]||(o[2]=d("h2",{class:"text-xl font-medium text-normal-500"},"欢迎使用",-1)),d("div",null,[s(_,{size:"md",required:"",name:"loginName",validateOn:["submit"],ui:{wrapper:"mb-5"}},{default:c(()=>[s(m,{modelValue:i(a).loginName,"onUpdate:modelValue":o[0]||(o[0]=p=>i(a).loginName=p),placeholder:"请输入您的账号",ui:{rounded:"rounded-sm"}},null,8,["modelValue"])]),_:1}),s(_,{size:"md",required:"",name:"userPassword",validateOn:["submit"]},{default:c(()=>[s(m,{modelValue:i(a).userPassword,"onUpdate:modelValue":o[1]||(o[1]=p=>i(a).userPassword=p),type:"password",placeholder:"请输入您的密码",ui:{rounded:"rounded-sm"}},null,8,["modelValue"])]),_:1})]),s(w,{block:"",type:"submit",size:"md",color:"primary",variant:"solid",label:"登录",loading:i(r)},null,8,["loading"])]),_:1},8,["state"]),o[4]||(o[4]=d("p",{class:"absolute bottom-0 h-20 text-sm text-normal"}," COPYRIGHT © 2024 浦江城服 ",-1))])}}}),W=R(F,[["__scopeId","data-v-0a45256d"]]);export{W as default};
