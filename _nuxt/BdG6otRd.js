import{g as $,o as m,w as F,h as I,d as b,u as N,f as B,A as T}from"./BXy2g18_.js";import{m as g,r as f,j as x,s as v,p as w,i as O,d as h,k as q,l as G,q as S,O as U,P as D,ak as W}from"./B3PM-gVu.js";function z(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function K(){return/Android/gi.test(window.navigator.userAgent)}function J(){return z()||K()}function p(e,t,a){$.isServer||g(r=>{document.addEventListener(e,t,a),r(()=>document.removeEventListener(e,t,a))})}function H(e,t,a){$.isServer||g(r=>{window.addEventListener(e,t,a),r(()=>window.removeEventListener(e,t,a))})}function ne(e,t,a=x(()=>!0)){function r(n,u){if(!a.value||n.defaultPrevented)return;let l=u(n);if(l===null||!l.getRootNode().contains(l))return;let c=function i(o){return typeof o=="function"?i(o()):Array.isArray(o)||o instanceof Set?o:[o]}(e);for(let i of c){if(i===null)continue;let o=i instanceof HTMLElement?i:m(i);if(o!=null&&o.contains(l)||n.composed&&n.composedPath().includes(o))return}return!F(l,I.Loose)&&l.tabIndex!==-1&&n.preventDefault(),t(n,l)}let s=f(null);p("pointerdown",n=>{var u,l;a.value&&(s.value=((l=(u=n.composedPath)==null?void 0:u.call(n))==null?void 0:l[0])||n.target)},!0),p("mousedown",n=>{var u,l;a.value&&(s.value=((l=(u=n.composedPath)==null?void 0:u.call(n))==null?void 0:l[0])||n.target)},!0),p("click",n=>{J()||s.value&&(r(n,()=>s.value),s.value=null)},!0),p("touchend",n=>r(n,()=>n.target instanceof HTMLElement?n.target:null),!0),H("blur",n=>r(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}let k=Symbol("Context");var Q=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Q||{});function le(){return V()!==null}function V(){return v(k,null)}function re(e){w(k,e)}function oe(e,t,a,r){$.isServer||g(s=>{e=e??window,e.addEventListener(t,a,r),s(()=>e.removeEventListener(t,a,r))})}var X=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(X||{});function ae(){let e=f(0);return H("keydown",t=>{t.key==="Tab"&&(e.value=t.shiftKey?1:0)}),e}function ue({defaultContainers:e=[],portals:t,mainTreeNodeRef:a}={}){let r=f(null),s=b(r);function n(){var u,l,c;let i=[];for(let o of e)o!==null&&(o instanceof HTMLElement?i.push(o):"value"in o&&o.value instanceof HTMLElement&&i.push(o.value));if(t!=null&&t.value)for(let o of t.value)i.push(o);for(let o of(u=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?u:[])o!==document.body&&o!==document.head&&o instanceof HTMLElement&&o.id!=="headlessui-portal-root"&&(o.contains(m(r))||o.contains((c=(l=m(r))==null?void 0:l.getRootNode())==null?void 0:c.host)||i.some(P=>o.contains(P))||i.push(o));return i}return{resolveContainers:n,contains(u){return n().some(l=>l.contains(u))},mainTreeNodeRef:r,MainTreeNode(){return a!=null?null:O(B,{features:N.Hidden,ref:r})}}}let A=Symbol("ForcePortalRootContext");function Y(){return v(A,!1)}let se=h({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:a}){return w(A,e.force),()=>{let{force:r,...s}=e;return T({theirProps:s,ourProps:{},slot:{},slots:t,attrs:a,name:"ForcePortalRoot"})}}});function Z(e){let t=b(e);if(!t){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let a=t.getElementById("headlessui-portal-root");if(a)return a;let r=t.createElement("div");return r.setAttribute("id","headlessui-portal-root"),t.body.appendChild(r)}const E=new WeakMap;function _(e){var t;return(t=E.get(e))!=null?t:0}function M(e,t){let a=t(_(e));return a<=0?E.delete(e):E.set(e,a),a}let ie=h({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:a}){let r=f(null),s=x(()=>b(r)),n=Y(),u=v(R,null),l=f(n===!0||u==null?Z(r.value):u.resolveTarget());l.value&&M(l.value,d=>d+1);let c=f(!1);q(()=>{c.value=!0}),g(()=>{n||u!=null&&(l.value=u.resolveTarget())});let i=v(y,null),o=!1,P=W();return G(r,()=>{if(o||!i)return;let d=m(r);d&&(S(i.register(d),P),o=!0)}),S(()=>{var d,C;let L=(d=s.value)==null?void 0:d.getElementById("headlessui-portal-root");!L||l.value!==L||M(l.value,j=>j-1)||l.value.children.length>0||(C=l.value.parentElement)==null||C.removeChild(l.value)}),()=>{if(!c.value||l.value===null)return null;let d={ref:r,"data-headlessui-portal":""};return O(U,{to:l.value},T({ourProps:d,theirProps:e,slot:{},attrs:a,slots:t,name:"Portal"}))}}}),y=Symbol("PortalParentContext");function de(){let e=v(y,null),t=f([]);function a(n){return t.value.push(n),e&&e.register(n),()=>r(n)}function r(n){let u=t.value.indexOf(n);u!==-1&&t.value.splice(u,1),e&&e.unregister(n)}let s={register:a,unregister:r,portals:t};return[t,h({name:"PortalWrapper",setup(n,{slots:u}){return w(y,s),()=>{var l;return(l=u.default)==null?void 0:l.call(u)}}})]}let R=Symbol("PortalGroupContext"),ce=h({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:a}){let r=D({resolveTarget(){return e.target}});return w(R,r),()=>{let{target:s,...n}=e;return T({theirProps:n,ourProps:{},slot:{},attrs:t,slots:a,name:"PortalGroup"})}}});export{ie as $,oe as E,ue as N,z as a,X as d,Q as i,V as l,ae as n,de as q,le as s,re as t,se as u,ne as w,ce as z};
